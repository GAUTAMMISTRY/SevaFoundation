<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Apna Ghar Ashram Umta - Admission Summary</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    background: #fff;
    margin: 0;
    padding: 20px;
    color: #000;
  }

  /* Header Layout */
  .header {
    display: grid;
    grid-template-columns: 100px 1fr 220px;
    align-items: center;
    border-bottom: 3px solid #28a745;
    padding-bottom: 10px;
    margin-bottom: 20px;
  }
  .header img {
    width: 90px;
    height: 90px;
    object-fit: contain;
  }
  .header-center {
    text-align: center;
  }
  .header-center h1 {
    margin: 0;
    font-size: 1.8rem;
    color: #28a745;
  }
  .header-center p {
    margin: 2px 0;
    font-size: 0.9rem;
  }
  .header-center .hq {
    font-weight: bold;
    font-size: 0.85rem;
  }
  .header-right {
    text-align: right;
    font-size: 0.85rem;
  }
  .header-right div {
    margin: 2px 0;
  }

  /* Data Table - Two Columns */
  .data-table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 30px;
  }
  .data-table td {
    padding: 6px 10px;
    vertical-align: top;
  }
  .label {
    font-weight: bold;
    width: 20%;
    background: #f6f6f6;
  }
  .value {
    width: 30%;
  }

  /* Footer */
  .footer {
    border-top: 2px solid #28a745;
    padding-top: 8px;
    text-align: center;
    font-size: 0.85rem;
    color: #555;
  }

  @media print {
    body {
      margin: 0;
      padding: 10px;
    }
    .header {
      border-bottom: 2px solid #000;
    }
    .footer {
      border-top: 1px solid #000;
    }
    .label {
      background: none;
    }
  }
</style>
</head>
<body>

<!-- Header -->
<div class="header">
  <div class="header-left">
    <img src="logo.png" alt="Foundation Logo">
  </div>
  <div class="header-center">
    <h1>Apna Ghar Ashram Umta</h1>
    <p>Jaska Road, Umta, Tehsil Visnagar, District Mehsana (Gujarat)</p>
    <p class="hq">HQ: Maa Madhuri Brij Varis Seva Sadan 'Apna Ghar', Bajhera, Achhnera Road, Bharatpur (Rajasthan)</p>
  </div>
  <div class="header-right">
    <div><strong>Reg. No:</strong> 49/Bharat/Reg./2000-2001</div>
    <div>www.apnagharashram.org</div>
    <div>+91 93279 86686</div>
  </div>
</div>

<!-- Data Table -->
<table class="data-table" id="printData"></table>

<!-- Footer -->
<div class="footer">
  This document is generated by Apna Ghar Ashram Umta - For official use only.
</div>

<script>
  function formatLabel(key) {
    const labels = {
      registrationNo: "Registration No.",
      admissionDate: "Admission Date",
      name: "Name",
      guardianName: "Guardian Name",
      mobileNo: "Mobile No.",
      address: "Full Address",
      state: "State",
      country: "Country",
      age: "Approx Age",
      gender: "Gender",
      weight: "Weight (Kg)",
      identificationMark: "Identification Mark",
      healthStatus: "Health Status",
      relativeAdmit: "Relative Admitted",
      relationWithGuardian: "Relation with Guardian",
      informerDetails: "Informer Details",
      admittedByOrg: "Admitted by Organization/Ward Name",
      vehicleNo: "Conveyance Vehicle No.",
      entrantName: "Entrant Driver/Sewarthi Name",
      entrantMobile: "Entrant Driver/Sewarthi Mobile No.",
      admissionComments: "Admission Comments / Status",
      relation: "Relation",
      district: "District",
      aadharNo: "Aadhar Number",
      dob: "Date of Birth",
      religion: "Religion",
      height: "Height (cm)",
      voterId: "Voter ID",
      category: "Category",
      birthPlace: "Pickup / Birth Place",
      letterNo: "Letter No.",
      driverName: "Driver/Sewarthi Name",
      driverMobile: "Driver/Sewarthi Mobile No.",
      thingAmount: "Thing / Kind Amount",
      videoUrl: "Video URL",
      rehabStatus: "Rehab Status"
    };
    return labels[key] || key;
  }

  const data = JSON.parse(localStorage.getItem('sevaFormData')) || {};
  const table = document.getElementById('printData');
  const keys = Object.keys(data).filter(k => data[k]); // only filled fields

  for (let i = 0; i < keys.length; i += 2) {
    const row = document.createElement('tr');

    // First column
    const key1 = keys[i];
    row.innerHTML += `<td class="label">${formatLabel(key1)}</td><td class="value">${data[key1]}</td>`;

    // Second column (if exists)
    if (keys[i + 1]) {
      const key2 = keys[i + 1];
      row.innerHTML += `<td class="label">${formatLabel(key2)}</td><td class="value">${data[key2]}</td>`;
    } else {
      // Empty cells to keep layout even
      row.innerHTML += `<td class="label"></td><td class="value"></td>`;
    }

    table.appendChild(row);
  }

  window.onload = () => {
    window.print();
  };
</script>

</body>
</html>

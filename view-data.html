<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>View All Entries - Seva Samarth Foundation</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
<style>
  body {
    background: #f8fafc;
  }
  .page-title {
    color: #28a745;
    font-weight: bold;
  }
  .table thead {
    background: #28a745;
    color: white;
  }
</style>
</head>
<body class="p-4">

<div class="container">
  <h2 class="page-title mb-4">All Admission Entries</h2>

  <table id="entriesTable" class="table table-striped table-bordered">
    <thead>
      <tr>
        <th>Registration No.</th>
        <th>Admission Date</th>
        <th>Name</th>
        <th>Comments</th>
        <th>Full Address</th>
      </tr>
    </thead>
    <tbody id="entriesBody">
      <!-- Data will be loaded here -->
    </tbody>
  </table>
</div>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
<script>
  // Simulated localStorage with multiple entries (replace with DB in production)
  // Example format: [{...formdata1}, {...formdata2}]
  const allEntries = JSON.parse(localStorage.getItem('sevaFormEntries')) || [];

  const tbody = document.getElementById('entriesBody');
  allEntries.forEach(entry => {
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${entry.registrationNo || ''}</td>
      <td>${entry.admissionDate || ''}</td>
      <td>${entry.name || ''}</td>
      <td>${entry.admissionComments || ''}</td>
      <td>${entry.address || ''}</td>
    `;
    tbody.appendChild(tr);
  });

  $(document).ready(function() {
    $('#entriesTable').DataTable({
      pageLength: 10,
      lengthMenu: [5, 10, 25, 50],
      order: [[1, 'desc']]
    });
  });
</script>

</body>
</html>
